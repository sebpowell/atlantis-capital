function wpined_content_run(e){wpined_loader("Loading Please Wait");jQuery.post(ajaxurl,{action:"wp_inline_edit",t:"content",r:"get",postID:jQ(e).attr("rel")},function(e){jQuery.globalEval(e);wpined_loader_close();wpined_content_save()})}function wpined_content_save(){jQ(".wpined-control").remove();jQ("body").append('<div class=\'wpined-control wp-core-ui\'><input name="update" type="button" class="button button-primary button-large" id="wpined-content-save" accesskey="p" value="Update" style="display: inline-block;float:left"> <input type="button" class="button button-secondary button-large" id="wpined-content-cancel" value="Cancel" style="display: inline-block;float:left;margin-left:10px;"><div style=\'clear:both\'></div></div>');jQ(".wpined-control").find("#wpined-content-cancel").click(function(){jQ("#wp_inline_edit_save").remove();jQ(".wpined-con").prev().hide();jQ(".wpined-con").show();jQ(".wpined-control").remove()});fullscreen.save=function(){fullscreen.off();jQ("#wpined-content-save").click()};jQ(".wpined-control").find("#wpined-content-save").click(function(){jQ("#wpined_textarea-html").click();var e=jQ(this).find("#wpined_textarea").val();jQ("#wpined_textarea-html").click();wpined_loader("Content Saving Please Wait");jQuery.post(ajaxurl,{action:"wp_inline_edit",t:"content",r:"save",postID:jQ("#wpined_textarea").attr("data-postid"),content:jQ("#wpined_textarea").val(),nonce:jQ("#wp_inline_edit_save").val()},function(e){jQuery.globalEval(e);wpined_loader_close()})});setTimeout(function(){jQ(window).scroll()},500)}function wpined_control_bottom(){try{jQ(".wpined-control").css({top:jQ(window).scrollTop()+jQ(window).height()-jQ(".wpined-control").height()-15,left:jQ(".wpined-con").parent().offset().left,width:jQ(".wpined-con").parent().width()})}catch(e){}}function wpined_loader(e){if(jQ("#wpined_loader").length==0){jQ("body").append('<div id="wpined_loader"> <img src="'+wpined_path+'/images/loader.gif" /><img src="'+wpined_path+'/images/wp-inline-edit_loader.gif" /> <p>'+e+"</p> </div>")}jQ("#wpined_loader").css("top",jQ(window).scrollTop()+jQ(window).height()/2-jQ("#wpined_loader").height()-20+"px").css("left",jQ(window).width()/2-jQ("#wpined_loader").width()/2+"px").find("p").html(e);jQ("#wpined_loader").fadeIn()}function wpined_loader_close(){jQ("#wpined_loader").fadeOut()}function wpined_tmce_position(){try{wpined_tmce_c_po=jQ("#wp-wpined_textarea-wrap").first().offset();wpined_tmce_c=jQ("#wp-wpined_textarea-wrap").first();wpined_scroll=jQ("body").scrollTop();wpined_tool=jQ("#wp-wpined_textarea-editor-tools");wpined_gtool=jQ("#wpined_textarea_toolbargroup");wpined_ttool=jQ("#qt_wpined_textarea_toolbar");jQ("#wpined_textarea_toolbargroup").css("width",wpined_tmce_c.width()-10);jQ("#wp-wpined_textarea-editor-tools").css("width",wpined_tmce_c.width()-10);if(wpined_ttool.length>0){if(jQ("#qt_wpined_textarea_toolbar_inner").length>0){}else{wpined_ttool.wrapInner('<div id="qt_wpined_textarea_toolbar_inner"></div>')}wpined_ttool.css("padding","0");wpined_ttool.find("div").css("width",wpined_tmce_c.width()-10);wpined_ttool.css("height",wpined_tool.height()+wpined_ttool.find("div").height()+10)}wpined_gtool.parent().css("height",wpined_tool.height()+wpined_gtool.height()+10);if(wpined_scroll>wpined_tmce_c_po.top){t=wpined_tool.css("top");tt=wpined_tool.css("top","0px").offset().top;wpined_tool.css("top",t);wpined_tool.stop().css({top:wpined_scroll-0+50-tt});t=wpined_gtool.css("top");tt=wpined_gtool.css("top","0px").offset().top;wpined_gtool.css("top",t);wpined_gtool.stop().css({top:wpined_scroll+60+wpined_tool.height()-tt});t=wpined_ttool.css("top");tt=wpined_ttool.css("top","0px").offset().top;wpined_ttool.css("top",t);wpined_ttool.stop().find("div").css({top:wpined_scroll+60+wpined_tool.height()-tt})}else{t=wpined_gtool.css("top");tt=wpined_gtool.css("top","0px").offset().top;wpined_gtool.css("top",t);wpined_gtool.stop().css({top:wpined_tmce_c_po.top+wpined_tool.height()+10-tt});t=wpined_ttool.css("top");tt=wpined_ttool.css("top","0px").offset().top;wpined_ttool.css("top",t);wpined_ttool.find("div").stop().css({top:wpined_tmce_c_po.top+wpined_tool.height()+10-tt});t=wpined_tool.css("top");tt=wpined_tool.css("top","0px").offset().top;wpined_tool.css("top",t);wpined_tool.stop().css({top:wpined_tmce_c_po.top-tt})}}catch(e){}}function wpined_title_blur(e){jQ(e).prev("textarea").blur(function(){wpined_loader("Title Saving Please Wait");jQuery.post(ajaxurl,{action:"wp_inline_edit",t:"title",r:"save",postID:jQ(this).next().attr("rel"),content:jQ(this).val(),nonce:jQ("#wp_inline_edit_save").val()},function(e,t){wpined_loader_close();jQuery.globalEval(e)})})}jQuery("document").ready(function(){jQ=jQuery;jQ(".wpined-title").each(function(){jQ(this).parent().attr("href","javascript:void(0);").find("a").each(function(){jQ(this).attr("href","javascript:void(0);")});jQ(this).dblclick(function(){ele=jQ(this);wpined_loader("Loading PLease Wait");jQuery.post(ajaxurl,{action:"wp_inline_edit",t:"title",r:"get",postID:jQ(this).attr("rel")},function(e,t){wpined_loader_close();jQuery.globalEval(e)})})});jQ(".wpined-con").dblclick(function(){wpined_content_run(this)});jQ(".post-edit-link").click(function(e){e.preventDefault();if(confirm('Please Press "Ok" if you want to use Inline Edit.\n If you want to use Backend editor Press "Cancel".')){wpined_content_run(jQ(".wpined-con"))}else{window.location=jQ(this).attr("href")}});jQ("#wp-admin-bar-edit").click(function(e){e.preventDefault();if(confirm('Please Press "Ok" if you want to use Inline Edit.\n If you want to use Backend editor Press "Cancel".')){jQ(this).attr("rel",wpined_postid);wpined_content_run(jQ(this))}else{window.location=jQ(this).find("a").attr("href")}});jQ(window).resize(function(){wpined_control_bottom()});jQ(window).scroll(function(){wpined_control_bottom()});wpined_wrap_did_before=0;jQ(window).resize(function(){wpined_tmce_position()});jQ(window).scroll(function(){wpined_tmce_position()});wpined_tmce_position();jQ(".wp-switch-editor").click(function(){wpined_tmce_position()})});(function(e){e.fn.autoResize=function(t){var n=e.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1e3},t);this.filter("textarea").each(function(){var t=e(this).css({resize:"none","overflow-y":"hidden"}),r=t.height(),i=function(){var n=["height","width","lineHeight","textDecoration","letterSpacing"],r={};e.each(n,function(e,n){r[n]=t.css(n)});return t.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(r).attr("tabIndex","-1").insertBefore(t)}(),s=null,o=function(){i.height(0).val(e(this).val()).scrollTop(1e4);var o=Math.max(i.scrollTop(),r)+n.extraSpace,u=e(this).add(i);if(s===o){return}s=o;if(o>=n.limit){e(this).css("overflow-y","");return}n.onResize.call(this);n.animate&&t.css("display")==="block"?u.stop().animate({height:o},n.animateDuration,n.animateCallback):u.height(o)};t.unbind(".dynSiz").bind("keyup.dynSiz",o).bind("keydown.dynSiz",o).bind("change.dynSiz",o)});return this}})(jQuery)